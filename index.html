<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script src="./assembler.js"></script>
<script src="./decoder.js"></script>
<script src="./jquery-3.0.0.min.js"></script>
<script src="./FileSaver.min.js"></script>
  <script>
    var assemble = function() {
      var code = $('#codeIn')[0].value;
      var assembled = assembler.assemble(code);
      console.log(assembled);
      $('#binOut')[0].value = assembled
    }
    var download = function() {
      var blob = new Blob([$('#binOut')[0].value], {type: "text/plain;charset=utf-8"});
      var fileName = $('#filename')[0].value;
      if (fileName == "") {fileName = "ES575"};
      saveAs(blob, fileName + ".mif");
    }
  </script>
</head>
<body>
  <h1>ES575 Assembler!</h1>
  <h2>Code and assemble your stuff:</h2>
  <p>
    <input type="button" value="Assemble!" onclick="assemble()">
    &nbsp;
    <input type="button" value="Download Binary" onclick="download()"> 
    <input type="text" id="filename" placeholder="filename">.mif
    <form action="">
      <input id="isbin" type="radio" name="input" value="binary"> Binary<br>
      <input type="radio" name="input" value="decimal" checked> Decimal<br>
    </form>
  </p>
  <p>
    <textarea id="codeIn" style="width: 49%; height: 40em"></textarea>
    &nbsp;
    <textarea id="binOut" style="width: 49%; height: 40em"></textarea>
  </p>
</body>